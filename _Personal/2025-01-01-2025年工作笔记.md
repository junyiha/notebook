---
layout: post
title:  2025年工作笔记
date:   2025-01-01 09:00:00 +0800
categories: Personal
tag: Personal
last_modified_date: 2025-01-01 09:00:00 +0800
---
## 摘要

+ 2025年工作日志，记录每天的工作内容，便于复盘

<!--more-->

## 01.01 - 01.05

+ 01.01
  + 增加手动操作界面
    + 扩大相机图像尺寸
    + 增加速度控制功能

+ 01.02 
  + 江南现场出差
  + 装板机器人
    + 手工操作界面

+ 01.03
  + 装板机器人
    + 手工操作界面

+ 01.04
  + 休息

+ 01.05
  + 嘉定图书馆学习
    + 图像数据的应用
    + OpenVINO 边线检测模型加载，推理，后处理适配完成
    + 至此，onnxruntime，OpenVINO都熟悉了，还有TensorRT
  + windows下C++项目VSCode编译速度慢的问题

## 01.06 - 01.12

+ 01.06
  + 准备下午的汇报
    + 测试末端运动最大速度
    + 二次举升 由单轴运动改为末端运动
      + 根据点激光数据判断运动的距离
    + 优化调平速度
    + 优化对边速度
    + 优化贴合速度
  + AI部署工程师技术栈
    + onnxruntime
    + openvino
    + tensorrt
  + 解决编译速度慢的问题 ： 解决不了，暂时放弃

+ 01.07
  + 二次举升，末端运动方案不行，原因：Z轴方向运动距离约300mm，运动结束后，前后轴基本到达限位，无法进行后续操作。

+ 01.08
  + 机器人效率测试

+ 01.09
  + 机器人精度测试

+ 01.10
  + 侧板作业测试

## 01.13 - 01.19

+ 01.13
  + 装板机器人 优化建议，硬件，软件。
  + 数据库 [done]
    + 检索索引为板的编号
  + 示教点增加仓编号 [延后]
  + 稀土的项目
    + 作业流程
    + 通信模块
+ NVIDIA jetson
+ 硬件IO

+ 01.14
  + 稀土的项目
    + 作业流程
    + 通信模块
    + 全自动，无人维护
    + 任务状态机划分，画图

+ 01.15
  + 稀土机器人
    + 任务流程设计

+ 01.16
  + 稀土机器人
    + 任务流程设计，确定了各阶段

+ 01.17
  + 请假

## 01.20 - 01.26

+ 01.20
  + 学习Libevent，后续替换TcpCom(tcp通讯)
  + 学习QSerialPort，替换SerialCom(串口通讯)
  + 上板流程优化，目标达到1分钟内

+ 01.21
  + 上板过程效率分析
    + 形成文档，并汇报

+ 01.22
  + 碰钉软件和装板软件统一化。

## 02.03 - 02.09

+ 02.03

+ 02.04

+ 02.05
  + 选择公司
    + 西井科技：AI+新能源无人驾驶牵引车
    + 上海博珖机器人有限公司：机器人＋新能源
    + 库灵科技：AI+表面瑕疵缺陷检测
  + 当前项目
    + 装板机器人验收
    + 碰钉--装板机器人代码优化
  + 工作规划
    + 碰钉，装板项目总结，新简历编写
    + 软考--嵌入式工程师准备

+ 02.06

## 02.10 - 02.16

+ 02.10
  + 测试程序是否可以正常运行
    + 作业环境可正常运行，开发环境需要调整
  + 优化视觉部分，支持CPU，Intel，Nvidia三种架构平台。 -- 视觉应用平台
    + cpu： onnxruntime
    + Intel：OpenVino
    + Nvidia：TensorRT
  + 文档
    + 梳理LNG碰钉--装板机器人项目，输出PPT
  + 装板流程时间分析。
    + 当前耗时，理论上最大时间。

+ 02.11
  + 装板流程效率分析
    + 明天根据日志，重点分析对边过程耗时原因
  + 代码重构
    + task模块依赖com模块的：
      + 获取遥控器指令 [done]
      + 灯光控制 [done]
      + 电推杠控制 [done]
      + 十字激光控制 [done]
      + 获取点激光数据 (串口通信)[done]

+ 02.12
  + 装板流程效率分析
    + 分析对边耗时原因：对边速度调整条件，由或改为与，只有xyz调整量都小于5mm时，才降低移动速度
    + python脚本，筛出定位阶段的日志
  + 代码重构
    + 轮廓激光
    + 完成新版本简历

+ 02.13
  + 测试推理效率：
    + onnxruntime：398ms
    + openvino：226ms
    + tensorrt: 81ms
  + 新增infer目录，主要负责模型部署，适配异构平台
    + onnxruntime封装 [done]
    + tensorrt封装 [doing]

+ 02.14
  + 配置cuda环境
    + cuda 11.8
    + tensorrt 8.6
  + 个人提升
    + 借助面试，整理自己的学习笔记
    + 申克机械面试准备
      + 英语自我介绍
      + 英文测试
      + 技术题
        + OpenCV 了解基础图像处理，不是强项
        + Halcon 商业的工业机器视觉软件
        + 多线程编程 重点复习 [done]
        + 网络编程 重点复习 [done]
        + 数据结构与算法
        + 机器视觉系统
        + Linux环境下的开发与调试
        + ROS简单学习
      + 项目介绍
        + LNG碰钉--装板机器人
        + 机场行李搬运
        + 主控系统
      + HR薪资

## 02.17 - 02.23

+ 02.17
  + 桂干测试，补充说明书。拧螺钉事情
  + 出料机器人
    + 完成任务设计文档 [done]
      + 完成第一层状态转换
      + 取工具--标定 状态删掉
      + 预热--校正 先运动到准备位置，然后通过视觉算法得到预热位置，最后走到预热位置。 预热位置和准备位置不同，预热位置为了避免工具末端传感器被烧，是倾斜的，下挖时工具时垂直向下的。
      + 终止指令执行后，状态跳转为 故障状态。
    + 设计代码验证流程 [undo]
  + 个人提升
    + 准备英文自我介绍
    + tensorrt 模型部署 推理

+ 02.18
  + 出料机器人
    + 任务设计文档
      + 第一层状态转换
      + 第二次根据建议修改
  + 碰钉--装板 
    + 流程
    + 工艺难点
  + 个人提升
    + 英文自我介绍 [defer]
    + tensorrt 模型部署 推理 [done]
    + C++软件工程师
      + 熟悉linux操作系统
      + 熟悉TCP/IP网络编程 [重点复习]
      + 熟悉软件开发常用技术: 队列，锁，多线程，设计模式
      + 精通C/C++ [重点复习]
      + 有一定Qt开发经验 [重点复习]
      + 熟悉面向对象技术
      + 有机器人应用工艺包开发经验者优先

+ 02.19
  + 出料机器人
    + 再梳理一下任务设计文档，看着还是比较乱
  + 碰钉--装板
    + 验证tensorrt封装的类是否可用 [done]
    + 软件发行 [defer]
  + 个人提升
    + 复习一下协作臂主控系统：ethercat， xenomai
    + 实时系统和非实时系统
    + qt框架
    + 算法工程化
    + ROS
    + 珞石 四百多人
      + 北京 一百五十多人
      + 山东  一百五十多人
    + 上海 几个人
      + 软件 1-2人
      + 机械
      + 周四 复试
    + 整体 19
    + 软件部
    + 机械部
    + 电子电气部
    + 没有分组
    + 李经理
  + 复习重点
    + 机械臂主控系统相关知识
      + 
    + OpenCV图像处理

+ 02.20
  + 出料机器人
    + 正常流程设计基本完成
    + 设计故障处理情况与方案
  + 个人提升
    + B/S架构优点：
      + 前后端分离，方便部署和维护，提供远程访问能力，对接第三方平台方便。
    + 手眼标定：
      + Eye-to-Hand
      + Eye-in-Hand
      + 基地坐标系和末端坐标系
      + 相机坐标系和基地坐标系

+ 02.21
  + 出料机器人
    + 调研机器人任务设计故障处理模块
    + 故障处理模块的设计

+ 02.22
  + 搜集关于申克的信息
  + 机器人行业的个人看法
  + 个人的职业规划
    + RTOS
    + ROS2
    + OpenCV
    + PCL
    + 高性能通讯
  + OpenCV准备
    + 遗留物检测算法 [done]
  + PCL
    + 点云数据处理

## 02.24 - 03.02

+ 总体任务
  + 稀土出料任务流程仿真
  + 装扮机器人com模块重构

+ 02.24
  + 稀土出料
    + 配置Qt库 [done]
    + 代码流程设计
      + 前面状态
    + 状态机的设计模式
      + 基于枚举和switch-case结构
      + 状态模式
  + 个人提升
    + C++基础题

+ 02.25
  + 稀土出料
    + 界面基本框架 [done]
    + 任务模块设计：状态模式 [undo]
  + 个人提升
    + 整理遗留物检测算法
    + 复习项目文档
    + 整理英文自我介绍，项目介绍，英文问题
    + 面试流程
      + 姚主管技术面试--> C++测试题 --> 英语测试题 --> 业务部门领导面试 --> HR领导面试

+ 02.26
  + 稀土出料
    + 状态模式 实现失败，放弃了

+ 02.27
  + 稀土出料
    + 沿用碰钉--装板机器人架构，先实现功能
    + 增加出料--倒料计数 [done]
    + 指令集改为下一步 [done]
  + 装板机器人
    + 桂干现场使用测试板多做几遍，熟悉装板流程。

+ 02.28
  + 稀土出料
    + 暂停--继续按钮 [done]
    + 消息提示 [done]
    + 状态流程
      + 区分第一层状态和第二层状态 [done]
      + 增加箭头 [暂时搁置]
  + 装板机器人 
    + 点激光3 数据突然无效导致流程退出
    + 界面增加日志级别控制
  + 个人提升
    + 基本面试，复习珞石二面失败经验
    + 英语自我介绍，个人优缺点，介绍一个项目
    + 岗位相关问题

+ 03.01
  + 学习英语，考虑职业发展

+ 03.02
  + 个人提升
    + 基本面试：工作履历，项目介绍，遇到问题，怎么解决，**参考珞石二面**
    + 英语自我介绍，个人优缺点，介绍一个项目
    + 准备问题，职业发展相关问题。 [参考文章 2025-02-22--申克机械]

## 03.03 - 03.09

+ 03.03
  + 装板机器人现场测试

+ 03.04
  + 装板机器人现场测试

+ 03.05
  + 装板机器人现场测试

+ 03.06
  + 装板机器人现场测试

+ 03.07
  + 请假

## 03.10 - 03.16

+ 03.10
  + 装板机器人
    + 整理上周测试数据，分析精度和效率问题
  + 3号仓装板机器人目标
    + 定位点激光3数据异常问题，记录点激光3的数据变化
    + 上板流程控制在1min30s，自动流程控制在3min30s，整体在5min内
    + 误差达到1mm内，连续装板几块，查看偏差规律。

+ 03.11
  + 现场出差

+ 03.12
  + 现场出差

+ 03.13
  + 现场出差

+ 03.14
  + 现场出差

+ 03.15
  + 复盘，规划下一步
  + 3月22日前把离职时间确定了，尽快离职，回家陪父母

## 03.17 - 03.23

+ 
+ 
+ 
+ 
+ 
+ 
+ 
+ 
+ 
+ 
+ 
+ 
+ 
+ 
+ 
+ 
+ 
+ 
+ 
+ 
+ 
+ 
+ 
+ 
+ 
+ 
+ 
+ 
+ 
+ 
+ 
+ 
+ 
+ 
+ 
+ 
+ 
+ 
+ 

## 04.14 - 04.20

+ 04.14
  + 工控机控制机器人运动

+ 04.15
  + 需求：适应不同车型。选择车型号，移动机器人时使用对应的路径点。
  + 思灵机器人路点集功能试验
    + 作用是什么
      + 约束规则，启用之后不同路点集之间不可直接移动。
    + 怎么使用
      + 为了安全考虑，不满足需求
  + 使用map，键为车型号，值为路径点列表。 
    + 现在python代码加，X-Line平台不熟悉，先不加。
    + python代码完善 [done]
  + 最近点移动 [done]
    + 例如：处于中间点2时，收到去standy指令，
      + 现在是流程是 HOME -> MID1 -> MID2 -> STANDBY。
      + 新流程应该是：
        + 计算出最近点，并移动到该点
        + 从该点继续移动到目标点。

+ 04.16
  + 工作环境 Access 64位引擎安装失败  --  已解决
    + 步骤如下 
      + 以管理员权限安装64位引擎：AccessDatabaseEngine_X64.exe /quiet
      + 打开注册表，找到目录：HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Office\16.0\Common\FilesPaths 。 删除 mos.dll一项。

+ 04.17
  + 一线机械臂Python代码，二线机械臂代码合并 [done]
  + X-Line的数据库学习
    + BitValues
    + Configuration
  + 源代码的学习
    + GUI界面是基于MFC框架实现
    + 使用.sln组织项目，完全依赖于Windows下的Visual Studio
    + MFC学习

+ 04.18
  + 新机械臂路径规划测试。
    + start_program() 函数 调用子程序。此为异步执行
    + call_function() 函数 调用子程序。此为同步执行
    + 在执行子程序时，当前点一定是第一个路点，如果不是，需要手动运动到该第一个路点。
    + 当前进度：
      + 自己实现的路径可通过X-Line调用
      + 支持不同车型：接收车型ID，调用不同车型的路径
        + 全局函数，根据ID生成路点列表 [done]
      + 仿真视频路径实现。
      + 实现路点解析功能
        + 命名规则：home, mid_1_SU7, mid_2_YU7, mid_2_SU7,..., mid_99_SU7(最后一个点为眼盒周围的点)
  + 4月20日启程去合肥江淮，目的是优化3D点云检测算法，增加点云滤波功能。
  + 主要工作步骤
    + 拷贝小米项目带有点云滤波功能的项目文件
    + 使用ExclusivCopy软件备份合肥江淮现场项目文件
      + 打开ExclusivCopy界面，点击Configuration->Load
      + 选择 config.mpd 
      + 点击 Zip! 开始备份
    + 替换项目下的Bin64目录
    + 打开 Height3DParameters/Height3D_SU7.txt 文件。将如下内容拷贝到合肥江淮项目相同文件中：
      + PicTool-TrimPointCloud-Input-distance_threshold=5
      + PicTool-TrimPointCloud-Input-region_threshold=5000
      + PicTool-TrimPointCloud-Input-knn_size=1
    + 至此，完成了合肥江淮点云滤波算法的升级。后续工作是现场测试，验证点云滤波的效果，达到合同上检测精度在正负1mm(客户要求正负0.5mm，能达到最好，达不到也没办法。)
  + 检测轮眉到轮心距离工作
    + 静态车辆检测
    + MFU文件分析