---
category: Python
date: 2025-05-14 09:00:00 +0800
layout: post
title: è¿›åº¦æ¡æ•ˆæœ
tag: PythonModule
---
## æ‘˜è¦

+ è¿›åº¦æ¡æ•ˆæœå®ç°

<!--more-->

## è¿›åº¦æ¡æ•ˆæœå®ç°

åœ¨ Python3 ä¸­å®ç°**å¤„ç†è¿›åº¦æ¡æ•ˆæœ**ï¼Œæœ‰å‡ ç§å¸¸ç”¨æ–¹å¼ï¼Œé€‚åˆåœ¨å‘½ä»¤è¡Œä¸­æ˜¾ç¤ºå¤„ç†è¿›åº¦ã€‚ä»¥ä¸‹æ˜¯å¸¸è§çš„å‡ ç§æ–¹æ³•ï¼š

---

## âœ… æ–¹æ³•ä¸€ï¼šä½¿ç”¨æ ‡å‡†è¾“å‡º `print` å®ç°åŸºæœ¬è¿›åº¦æ¡

```python
import time
import sys

def progress_bar(total):
    for i in range(total + 1):
        percent = (i / total) * 100
        bar = '#' * int(percent / 2) + '-' * (50 - int(percent / 2))
        sys.stdout.write(f'\rè¿›åº¦: [{bar}] {percent:.1f}%')
        sys.stdout.flush()
        time.sleep(0.1)

progress_bar(100)
print("\nå®Œæˆï¼")
```

ğŸ§  è¯´æ˜ï¼š

* `\r` æ˜¯å›è½¦ç¬¦ï¼Œä¼šæŠŠå…‰æ ‡ç§»åˆ°å½“å‰è¡Œå¼€å¤´ï¼Œè¾¾åˆ°**åœ¨ä¸€è¡Œä¸­åŠ¨æ€æ›´æ–°è¿›åº¦**çš„æ•ˆæœã€‚
* `sys.stdout.flush()` ä¿è¯ç«‹å³è¾“å‡ºå†…å®¹ã€‚

---

## âœ… æ–¹æ³•äºŒï¼šä½¿ç”¨ `tqdm` åº“ï¼ˆæœ€æ¨èï¼‰

`tqdm` æ˜¯ä¸€ä¸ªä¸“é—¨ç”¨äºæ˜¾ç¤ºè¿›åº¦æ¡çš„ç¬¬ä¸‰æ–¹åº“ï¼Œæ”¯æŒ `for` å¾ªç¯ã€`Pandas`ã€`multiprocessing` ç­‰ã€‚

### å®‰è£…ï¼š

```bash
pip install tqdm
```

### ç¤ºä¾‹ç”¨æ³•ï¼š

```python
from tqdm import tqdm
import time

for i in tqdm(range(100)):
    time.sleep(0.05)  # æ¨¡æ‹Ÿè€—æ—¶æ“ä½œ
```

ä½ ä¹Ÿå¯ä»¥åŠ æè¿°ï¼š

```python
for i in tqdm(range(100), desc="å¤„ç†ä¸­"):
    time.sleep(0.05)
```

---

## âœ… æ–¹æ³•ä¸‰ï¼šåœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨ tqdm ç»“åˆæ–‡ä»¶æˆ–æ•°æ®å¤„ç†

```python
from tqdm import tqdm
import os

file_list = os.listdir("some_directory")

for file in tqdm(file_list, desc="è¯»å–æ–‡ä»¶"):
    # æ¨¡æ‹Ÿå¤„ç†
    time.sleep(0.1)
```

---

## âœ… æ–¹æ³•å››ï¼šä½¿ç”¨ `rich` åº“ï¼ˆæ›´ç¾è§‚ï¼‰

```bash
pip install rich
```

```python
from rich.progress import track
import time

for step in track(range(100), description="å¤„ç†ä¸­..."):
    time.sleep(0.05)
```

---

## ğŸ§¾ æ€»ç»“

| æ–¹æ³•             | ä¼˜ç‚¹           | é€‚ç”¨åœºæ™¯      |
| -------------- | ------------ | --------- |
| `print` + `\r` | é›¶ä¾èµ–ã€åŸç†æ¸…æ™°     | ç®€å•è„šæœ¬      |
| `tqdm`         | å¼ºå¤§ã€ç®€æ´ã€æ”¯æŒå¤šç§å¯¹è±¡ | å¸¸è§„å¼€å‘ã€æ•°æ®å¤„ç† |
| `rich`         | UI ç¾è§‚ã€æ”¯æŒè¿›åº¦åŠ¨ç”» | ç»ˆç«¯å·¥å…·ã€ç¾åŒ–è¾“å‡º |

---

éœ€è¦æˆ‘å¸®ä½ æŠŠæŸæ®µå¤„ç†é€»è¾‘åŠ ä¸Šè¿›åº¦æ¡æ˜¾ç¤ºå—ï¼Ÿå¯ä»¥å‘ä»£ç ç‰‡æ®µæ¥æˆ‘å¸®ä½ åŠ ã€‚
