---
category: ComputerVision
date: 2025-05-06 09:00:00 +0800
layout: post
title: 霍夫圆检测原理
tag: ComputerVision
---
## 摘要

+ 理解，学习霍夫圆检测原理

<!--more-->

## 霍夫圆检测

+ 霍夫圆检测能检测出目标图像中存在的圆，但在实际使用中，参数调节存在很大的困难。

## 基本原理

+ 霍夫圆检测与霍夫变换密切相关，霍夫变换是基于极坐标系(是由半径与夹角所描述的一种坐标系)与笛卡尔坐标系(普通的平面坐标系)的相互转变而实现的。笛卡尔坐标系上的一个点，变换到极坐标系上就变成了一条线；反之亦然。
+ 然而，基于霍夫变换的霍夫圆检测方法计算量极大，不适合实际应用。
+ 在opencv的实现中，是使用霍夫梯度算法进行圆检测

## 霍夫梯度法的原理

1. 把原图做一次Canny边缘检测，得到边缘检测的二值图
2. 对原始图像执行一次Sobel算子，计算出所有像素的邻域梯度值
3. 初始化圆心空间N(a, b)，令所有的N(a, b) = 0。若要求圆心在图像中，则a，b值的范围分别对应图像的宽高，N(a, b)表示一共有 a * b个。
4. 遍历Canny边缘二值图中的所有非零像素点，沿着梯度方向(切线的垂直方向，根据Sobel算子计算出的垂直梯度及水平梯度得来)固定搜索半径范围画线，将线段经过的所有累加器中的点(a, b)的N(a, b) += 1
5. 统计排序N(a, b)，得到可能的圆心。 N(a, b)越大，越有可能是圆心。

## 霍夫梯度法缺点

+ 在霍夫梯度法中，使用Sobel导数来计算局部梯度，那么随之而来的假设是，其可以视作等同于一条基于几个局部点的切线，并且这个不是一个数值稳定的做法。在大多数情况下，这样做会得到正确的结果，但或许会在输出中产生一些噪声
+ 在边缘图像中的整个非0像素被看作每个中心的候选部分，若没有合理设置梯度方向的搜索半径范围，则会导致计算量巨大
+ 因为霍夫梯度算法通过圆弧切线的垂直线进行圆心累加检测，当存在同心圆时，会累加到同一个圆心，这导致指挥选择到累加值最大的圆。

## 霍夫圆变换(Hough)

+ 霍夫圆变换是将二维图像空间中一个圆转换为该圆半径，圆心横纵坐标所确定的三维参数空间中一个点的过程，因此，圆周上任意三点所确定的圆，经Hough变换后在三维参数空间应对应一点。

## 霍夫圆变换原理

+ 霍夫圆变换的基本思路是：
  + 认为图像上每一个非零像素点都有可能是一个潜在的圆上的一点，跟霍夫线变换一样，也是通过投票，生成累积坐标平面，设置一个累积权重来定位圆。

## 引用

+ https://zhuanlan.zhihu.com/p/448935812
+ https://blog.csdn.net/m0_74259636/article/details/132655935